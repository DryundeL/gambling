# 🎰 Консольное Казино

Система консольного казино с регистрацией пользователей, пополнением баланса и игрой на спинах.

## 🚀 Запуск

1. Убедитесь, что PostgreSQL запущен и настроен
2. Создайте файл `.env` с параметрами подключения к БД:
```env
DB_HOST=localhost
DB_PORT=5432
DB_USER=your_user
DB_PASSWORD=your_password
DB_NAME=gambling
DB_SSLMODE=disable
APP_ENV=local
```

3. Запустите приложение:
```bash
go run cmd/gambling/main.go
```

## 🎮 Использование

После запуска вы увидите меню:

```
╔════════════════════════════════════════╗
║     Добро пожаловать в Казино! 🎰     ║
╚════════════════════════════════════════╝

═══════════════════════════════════════
1. Регистрация
2. Вход
3. Выход
═══════════════════════════════════════
```

### Регистрация
1. Выберите пункт `1` для регистрации
2. Введите имя пользователя, email и пароль
3. После успешной регистрации вы автоматически войдете в систему

### Вход
1. Выберите пункт `2` для входа
2. Введите имя пользователя и пароль

### Главное меню
После входа вы увидите:
```
═══════════════════════════════════════
👤 Пользователь: username
💰 Баланс: 0.00 ₽
═══════════════════════════════════════
1. Пополнить баланс
2. Играть в спинах
3. Выйти из аккаунта
4. Выход из программы
═══════════════════════════════════════
```

### Пополнение баланса
1. Выберите пункт `1`
2. Введите сумму для пополнения (любая положительная сумма)

### Игра на спинах
1. Выберите пункт `2`
2. Введите сумму ставки
3. Наблюдайте за результатом спина!

## 🎲 Правила игры

### Символы и вероятности
- **0**: 0.5% (джекпот символ)
- **1-3**: 5% каждый
- **4-6**: 10% каждый
- **7-9**: 20% каждый

### Выигрышные комбинации

**Три одинаковых символа:**
- Три нуля: **x1000** от ставки 🎰
- Три 1-3: **x50** от ставки
- Три 4-6: **x20** от ставки
- Три 7-9: **x10** от ставки

**Два одинаковых символа:**
- Два нуля: **x10** от ставки
- Две 1-3: **x3** от ставки
- Две 4-6: **x2** от ставки
- Две 7-9: **x1.5** от ставки

**Последовательность:**
- 0-1-2 или 7-8-9: **x5** от ставки

### RTP (Return to Player)
Система настроена на RTP ~95%, что соответствует стандартам классических казино.

## 📋 Пример сессии

```
Выберите действие: 1
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 РЕГИСТРАЦИЯ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Имя пользователя: player1
Email: player1@example.com
Пароль: secret123
✅ Регистрация успешна! Добро пожаловать, player1!

═══════════════════════════════════════
👤 Пользователь: player1
💰 Баланс: 0.00 ₽
═══════════════════════════════════════
1. Пополнить баланс
2. Играть в спинах
3. Выйти из аккаунта
4. Выход из программы
═══════════════════════════════════════
Выберите действие: 1

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
💳 ПОПОЛНЕНИЕ БАЛАНСА
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Текущий баланс: 0.00 ₽
Введите сумму для пополнения: 1000
✅ Баланс успешно пополнен на 1000.00 ₽
💰 Новый баланс: 1000.00 ₽

Выберите действие: 2

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎰 ИГРА НА СПИНАХ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Текущий баланс: 1000.00 ₽
Введите сумму ставки: 10

🎰 Крутим барабаны...

╔═══════════════════════════════════════╗
║         [7] [7] [7]          ║
╚═══════════════════════════════════════╝
🎉 ВЫИГРЫШ! Вы выиграли 100.00 ₽
💰 Ваш баланс: 1090.00 ₽
```

## 🏗️ Архитектура

Проект следует принципам чистой архитектуры:
- **Model** - модели данных
- **Repository** - слой доступа к данным
- **Service** - бизнес-логика
- **Console** - консольный интерфейс

Все операции с балансом логируются в таблицу транзакций для аудита.

